#apiVersion: batch/v1
#kind: Job
#metadata:
#  name: postgres
##  labels:
##    app.kubernetes.io/managed-by: {{ .Release.Service | quote }}
##    app.kubernetes.io/instance: {{ .Release.Name | quote }}
##    app.kubernetes.io/version: {{ .Chart.AppVersion }}
##    helm.sh/chart: "{{ .Chart.Name }}-{{ .Chart.Version }}"
#  annotations:
#    # This is what defines this resource as a hook. Without this line, the
#    # job is considered part of the release.
#    "helm.sh/hook": post-install
#    "helm.sh/hook-weight": "-5"
#    "helm.sh/hook-delete-policy": hook-succeeded
#spec:
#  template:
#    metadata:
#      name: postgres
##      labels:
##        app.kubernetes.io/managed-by: {{ .Release.Service | quote }}
##        app.kubernetes.io/instance: {{ .Release.Name | quote }}
##        helm.sh/chart: "{{ .Chart.Name }}-{{ .Chart.Version }}"
#    spec:
#      restartPolicy: Never
#      containers:
#        - name: post-install-job
##          image: "postgres:latest"
#          command: ["/bin/sh","-c","sleep 20 && PGPASSWORD=12345678 psql -w -d postgres -U postgres -c ' CREATE TABLE public.person (
#        id UUID NOT NULL,
#        user_name varchar NULL,
#        first_name varchar NULL,
#        last_name varchar NULL,
#        email varchar NULL,
#        phone varchar NULL,
#        CONSTRAINT person_pk PRIMARY KEY (id)
#        );'"]